# 第1章　引言
本章概要：通过一个和学生赌博的游戏，以及几个身边发生的和概率有关且十分接地气的故事（投篮、赌博），来引起学生的兴趣。

## 1.1　生日问题
本节概要：如何严谨地描述一个问题的假定条件，循序渐进地解决问题，对问题和求解方法进行推广。
### 1.1.1　陈述问题
与微积分和线性代数不同，概率论在描述前提条件要格外清晰且小心。

> 生日问题 (表述 1)：房间里有多少人才能保证其中至少两个人的生日在同一天的概率不小于 50%？
> 
> 生日问题 (表述 2)：假设对每个人来说, 出生在一年中任何一天的概率都是相等的. 那么, 房间里有多少人才能保证其中至少两个人的生日在同一天的概率不小于 50%？
> 
> 生日问题 (表述 3)：假设客人的出生日期都是相互独立的, 并且每个人都等可能地出生在一年中的任何一天 (2 月 29 日除外), 那么房间里有多少人才能保证其中至少两个人的生日在同一天的概率不小于 50%？

如果前提条件描述不清楚，就会导致很多错误。

### 1.1.2　解决问题
作者没有一上来就哐哐地排列组合算出答案，而是介绍了他认为比较科学的思考过程，从而递进地缩小正确答案的范围，并寻找一个比较好的解决方案。  

- 第一步，通过狄利克雷鸽巢原理把答案锁定在[2,365]。  
- 第二步，假设会场已经有183个生日不相同的人了，也就是365天已经有一半被占了，当第184个人再进入的话，概率肯定高于50%，因此，答案锁定在[2,184]。
- 第三步，使用穷举法。从1个人，2个人，...，依次计算概率，能算，随着人数的增多，正面列出各种可能性很容易遗漏或重复，不高效。   
- 第四步：考虑对立事件（随着人数的增加，生日不重复的概率，当概率小于50%的时候，就停止）。
  - 第1个加入时，概率等于 $365/365=1$；  
  - 第2个加入时，概率等于 $365*364/365^2$
  - 第3个加入时，概率等于 $365*364*363/365^3$
  - ...
  - 第n个加入时，概率等于
    <p align="center"><img src="./imgs/微信截图_20230119192706.png" width=800 /></a></p>
 
使用计算器依次计算概率：
<p align="center"><img src="./imgs/微信截图_20230119193516.png" width=800 /></a></p>

观察图中的点, 我们看到问题的答案是 23. 特别是当房间里有 23 个人时,“至少两个人的生日在同一天”的概率大约是 50.7%. 当房间里有30 个人时, 这个概率差不多上升到了 70.6%. 当有 40 个人时, 概率上升到了 89.1%.当有 50 个人时, 概率上升到了惊人的 97%.

在大班授课时, 教授通常会与学生赌 5 美元, 断言“教室里至少有两个人的生日在同一天”. 从上面的分析可以看出, 如果教室里的人数不少于 40, 那么教授就非常安全。


### 1.1.3　对问题和答案的推广：效率
- 对问题的推广：  
一个随机试验共有 D 种可能的结果, 并且每种结果出现的概率是相等的, 那么需要进行多少次试验才能使“至少两次试验的结果相同”的概率为 50%？

- 对答案的推广：  
  很明显，前面的算法还是遍历搜索的方式，不是一个高效率的算法，我们希望得到一个高效且便于使用的算法, 最好能得到一个不错的闭型解。

  直接给出结论：如果出席聚会的每个人都等可能地出生在 D 天中的任何一天, 那么大约需要 $\sqrt{D \cdot 2 \log 2}$ 个人才能使得“至少两个人的生日在同一天”的概率为 50%.

### 1.1.4　数值检验
通过程序模拟，验证了 $\sqrt{D \cdot 2 \log 2}$ 的正确性。  
<p align="center"><img src="./imgs/微信截图_20230119225223.png" width=800 /></a></p>


## 1.2　从投篮到几何级数
本节摘要：第一部分介绍了一个投篮问题，使用了几何级数和无记忆进程分别求解。第二部分介绍了无记忆进程在扑克牌案例中的使用。第三部分介绍了另一个投篮问题。
### 1.2.1　问题和解答
- 问题：  
  假设拉里伯德和魔术师约翰逊轮流投篮，谁先投进谁就胜利，拉里伯德每次投篮的命中率为 $p$ ，魔术师约翰逊的命中率为 $q$ ，如果拉里伯德先投，那么他获胜的概率是多少？
- 方法1（几何级数）：
  <p align="center"><img src="./imgs/微信截图_20230120001911.png" width=600 /></a></p>
  <p align="center"><img src="./imgs/微信截图_20230120002032.png" width=800 /></a></p>

- 方法2（无记忆进程）：
  如果两个人第一轮都没进球，那么就相当于比赛重新开始了。拉里伯德的胜率 $x$ 和刚开始的胜率 $x$ 应该是相同的：
  <p align="center"><img src="./imgs/微信截图_20230120002406.png" width=300 /></a></p>


### 1.2.2　相关问题
使用无记忆进程的技巧再做一道题。
- 问题：  
  Alice、Bob 和 Charlie 正在玩纸牌游戏. 第一个拿到方块牌的人获胜. 他们轮流抽牌 ——Alice 先抽, 之后是 Bob, 接下来是 Charlie, 然后又是 Alice, 依此类推 —— 直到有人抽到方块牌为止. 当一个人抽取之后, 如果他拿到的牌不是方块,则将其放回整副牌里, 并在下一个人抽取之前重新彻底洗牌. 每个人获胜的概率是多少？
- 解答：  
  Alice获胜的概率为：

  $$x=\frac{1}{4}+\frac{3}{4} \cdot \frac{3}{4} \cdot \frac{3}{4} x$$

  Bob获胜的概率为：

  $$y=\frac{3}{4} \cdot \frac{1}{4}+\left(\frac{3}{4}\right)^{3} y$$

  Charlie获胜的概率为：

  $$z=\frac{3}{4} \cdot\frac{3}{4} \cdot \frac{1}{4}+\left(\frac{3}{4}\right)^{3} z$$

  解得

  $$x=\frac{16}{37},y=\frac{12}{37},z=\frac{9}{37}$$

### 1.2.3　一般问题的解决技巧
该部分讨论了另外一个“篮球大战”的例子，主要是帮助开拓视野的，和上下文联系不是很紧密，大家自行阅读。


## 1.3　赌博
本节介绍了一个赌球的问题，主要想表达推动这门学科发展的主要动力来自于对博弈游戏的研究，介绍了一种如何让最低收益提高的一种方法，和上下文联系不是很紧密，大家自行阅读。
### 1.3.1　2008年超级碗赌注 
### 1.3.2　预期收益
### 1.3.3　对冲的价值
### 1.3.4　结论




